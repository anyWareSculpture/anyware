'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * Default Configuration
 *
 * Extend the class exported from this module to create your own local
 * configuration objects or use this directly.
 * A configuration file is any ES6 file that exports a single default
 * object containing all of the configuration options.
 *
 * Avoid requiring this file into any file that might need this one.
 * In general game logic should never need this, a config object should
 * be passed around through constructors.
 *
 * Try to keep the structure as flat as possible while grouping things logically
 */

var COLORS = require('../constants/colors');
var GAMES = require('../constants/games');

var DefaultConfig = function () {
  function DefaultConfig() {
    var _USERS, _PANELS;

    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];

    var _ref$username = _ref.username;
    var username = _ref$username === undefined ? "" : _ref$username;
    var _ref$user = _ref.user0;
    var user0 = _ref$user === undefined ? "sculpture0" : _ref$user;
    var _ref$user2 = _ref.user1;
    var user1 = _ref$user2 === undefined ? "sculpture1" : _ref$user2;
    var _ref$user3 = _ref.user2;
    var user2 = _ref$user3 === undefined ? "sculpture2" : _ref$user3;

    _classCallCheck(this, DefaultConfig);

    this.user0 = user0;
    this.user1 = user1;
    this.user2 = user2;

    // The username of the current user
    this.username = username || user0;

    // A mapping between usernames and the colors that represent them
    this.COLORS = {
      USERS: (_USERS = {}, _defineProperty(_USERS, this.user0, COLORS.USER0), _defineProperty(_USERS, this.user1, COLORS.USER1), _defineProperty(_USERS, this.user2, COLORS.USER2), _USERS),
      ERROR: 'error'
    };

    // The sequence of the games to be run. The first game is run on startup
    this.GAMES_SEQUENCE = [GAMES.HANDSHAKE, GAMES.MOLE, GAMES.DISK, GAMES.SIMON];

    /******* LIGHTS  ********************/
    this.LIGHTS = {
      // Name : strip Id (corresponds to hardware)
      STRIP_A: '0',
      STRIP_B: '1',
      STRIP_C: '2',
      PERIMETER_STRIP: '3',
      DISK_LIGHT_STRIP: '4',
      HANDSHAKE_STRIP: '5',
      ART_LIGHTS_STRIP: '6'
    };
    this.LIGHTS.GAME_STRIPS = [this.LIGHTS.STRIP_A, this.LIGHTS.STRIP_B, this.LIGHTS.STRIP_C];
    this.PANELS = (_PANELS = {}, _defineProperty(_PANELS, this.LIGHTS.STRIP_A, ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']), _defineProperty(_PANELS, this.LIGHTS.STRIP_B, ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']), _defineProperty(_PANELS, this.LIGHTS.STRIP_C, ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']), _PANELS);

    // These settings effect the default behaviour of panels outside of
    // any custom logic in any of the games
    this.PANEL_DEFAULTS = {
      ACTIVE_INTENSITY: 100,
      INACTIVE_INTENSITY: 0
    };

    /******* GAMES CONFIGURATION *******/

    this.HANDSHAKE_GAME = {
      TRANSITION_OUT_TIME: 4000 // Time (ms) from handshake is touched until we start the next game
    };
    this.MOLE_GAME = {
      GAME_END: 30,
      INITIAL_PANELS: [{ stripId: this.LIGHTS.STRIP_A, panelId: '3' }, { stripId: this.LIGHTS.STRIP_A, panelId: '7' }, { stripId: this.LIGHTS.STRIP_C, panelId: '6' }, { stripId: this.LIGHTS.STRIP_B, panelId: '5' }],
      NUM_ACTIVE_PANELS: {
        10: 1, // At panelCount of 10, increase # of simultaneusly active panels
        20: 1,
        25: -1, // At panelCount of 25, decrease # of simultaneusly active panels
        27: -1
      },
      PANEL_LIFETIME: [{ count: 0, range: [10, 10] }, // Initial timeout
      { count: 4, range: [4, 6] }, // At panelCount of 4, set panel lifetime to 4-6 seconds. Gradually interpolate to next timeout level
      { count: 20, range: [2, 3] }, { count: 30, range: [1.5, 2] }],
      // How long to wait before enabling the next panel, on success
      PANEL_SUCCESS_DELAY: 1000,
      // How long to wait before enabling the next panel, on automatic panel move
      PANEL_MOVE_DELAY: 200,
      // The intensity to use on active panels
      ACTIVE_PANEL_INTENSITY: 100,
      // The intensity to use on inactive panels
      INACTIVE_PANEL_INTENSITY: 0,
      // The intensity to use on ignored panels (panels turned to location color)
      COLORED_PANEL_INTENSITY: 75,
      // We don't use failure sounds in the default setup due to too many accidental touches
      ENABLE_FAILURE_SOUND: false
    };

    this.DISK_GAME = {
      // The user will wins when they reach these positions for each diskId.
      RELATIVE_TOLERANCE: 8, // degrees tolerance for disks relative to each other
      ABSOLUTE_TOLERANCE: 8, // degrees tolerance for the absolute disk positions
      // The intensity of the panels that the user can use to play the sequence
      CONTROL_PANEL_INTENSITY: 20,
      ACTIVE_CONTROL_PANEL_INTENSITY: 100,
      ACTIVE_PERIMETER_INTENSITY: 100,
      INACTIVE_PERIMETER_INTENSITY: 50, // Inactive: when turned to location color
      PERIMETER_COLOR: "white",
      SHADOW_LIGHTS: {
        // stripId: [panelId..]
        '6': ['0', '1', '2']
      },
      SHADOW_LIGHT_INTENSITY: 100,
      LEVELS: [
      // level 0
      // disks: { diskId: target position }
      // perimeter: { stripId: [panelIds..] }
      { disks: { disk2: 206, disk1: 0, disk0: 170 },
        perimeter: _defineProperty({}, this.LIGHTS.PERIMETER_STRIP, ['0', '2'])
      },
      // level 1
      { disks: { disk2: 180, disk1: 305, disk0: 346 },
        perimeter: _defineProperty({}, this.LIGHTS.PERIMETER_STRIP, ['3', '5'])
      },
      // level 2
      { disks: { disk2: 330, disk1: 330, disk0: 242 },
        perimeter: _defineProperty({}, this.LIGHTS.PERIMETER_STRIP, ['1', '4'])
      }],
      LIGHT_MAPPING: {
        // diskId: { stripId: panelId }
        disk0: _defineProperty({}, this.LIGHTS.DISK_LIGHT_STRIP, '0'),
        disk1: _defineProperty({}, this.LIGHTS.DISK_LIGHT_STRIP, '1'),
        disk2: _defineProperty({}, this.LIGHTS.DISK_LIGHT_STRIP, '2')
      },
      CONTROL_MAPPINGS: {
        CLOCKWISE_STRIP: this.LIGHTS.STRIP_C,
        COUNTERCLOCKWISE_STRIP: this.LIGHTS.STRIP_A,

        CLOCKWISE_PANELS: {
          // diskId : [panelId1, ...]
          disk0: ['1'],
          disk1: ['3'],
          disk2: ['5']
        },
        COUNTERCLOCKWISE_PANELS: {
          disk0: ['1'],
          disk1: ['3'],
          disk2: ['5']
        }
      }
    };

    this.SIMON_GAME = {
      PATTERN_LEVELS: [
      // level 0 sequence
      {
        stripId: this.LIGHTS.STRIP_A,
        // Each array of panel IDs is lit up one at a time
        // Each array within this array is called a "frame" in the "sequence"
        panelSequence: [['3'], ['5'], ['7']],
        frameDelay: 750 // Overriding default frame delay to make first level slower
      },
      // level 1 sequence
      {
        stripId: '1',
        panelSequence: [['1'], ['8'], ['5']]
      },
      // level 2 sequence
      {
        stripId: '2',
        panelSequence: [['3'], ['6'], ['2'], ['9']]
      }],
      // The intensity of the panels when they are pressed or when the sequence is playing
      TARGET_PANEL_INTENSITY: 100,
      // The intensity of the panels that the user can use to play the sequence
      AVAILABLE_PANEL_INTENSITY: 1,
      // The delay in ms between sequence frames
      SEQUENCE_ANIMATION_FRAME_DELAY: 500,
      // The delay in ms to wait before replaying the sequence
      // Only replayed if no input is received from the user
      DELAY_BETWEEN_PLAYS: 5000,
      // The time after input to wait for the user to finish the sequence
      INPUT_TIMEOUT: 10000,
      // The default color to set the panels to when
      DEFAULT_SIMON_PANEL_COLOR: "white",
      // Wait while playing final sound
      TRANSITION_OUT_TIME: 10000
    };
  }

  _createClass(DefaultConfig, [{
    key: 'getUserColor',
    value: function getUserColor(username) {
      return this.COLORS.USERS[username];
    }
  }]);

  return DefaultConfig;
}();

exports.default = DefaultConfig;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWUtbG9naWMvY29uZmlnL2RlZmF1bHQtY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWVBLElBQU0sU0FBUyxRQUFRLHFCQUFSLENBQWY7QUFDQSxJQUFNLFFBQVEsUUFBUSxvQkFBUixDQUFkOztJQUVxQixhO0FBQ25CLDJCQUtRO0FBQUE7O0FBQUEscUVBQUosRUFBSTs7QUFBQSw2QkFKSixRQUlJO0FBQUEsUUFKSixRQUlJLGlDQUpLLEVBSUw7QUFBQSx5QkFISixLQUdJO0FBQUEsUUFISixLQUdJLDZCQUhFLFlBR0Y7QUFBQSwwQkFGSixLQUVJO0FBQUEsUUFGSixLQUVJLDhCQUZFLFlBRUY7QUFBQSwwQkFESixLQUNJO0FBQUEsUUFESixLQUNJLDhCQURFLFlBQ0Y7O0FBQUE7O0FBQ04sU0FBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFiOzs7QUFHQSxTQUFLLFFBQUwsR0FBZ0IsWUFBWSxLQUE1Qjs7O0FBR0EsU0FBSyxNQUFMLEdBQWM7QUFDWixtREFFRyxLQUFLLEtBRlIsRUFFZ0IsT0FBTyxLQUZ2QiwyQkFHRyxLQUFLLEtBSFIsRUFHZ0IsT0FBTyxLQUh2QiwyQkFJRyxLQUFLLEtBSlIsRUFJZ0IsT0FBTyxLQUp2QixVQURZO0FBT1osYUFBTztBQVBLLEtBQWQ7OztBQVdBLFNBQUssY0FBTCxHQUFzQixDQUNwQixNQUFNLFNBRGMsRUFFcEIsTUFBTSxJQUZjLEVBR3BCLE1BQU0sSUFIYyxFQUlwQixNQUFNLEtBSmMsQ0FBdEI7OztBQVFBLFNBQUssTUFBTCxHQUFjOztBQUVaLGVBQVMsR0FGRztBQUdaLGVBQVMsR0FIRztBQUlaLGVBQVMsR0FKRztBQUtaLHVCQUFpQixHQUxMO0FBTVosd0JBQWtCLEdBTk47QUFPWix1QkFBaUIsR0FQTDtBQVFaLHdCQUFrQjtBQVJOLEtBQWQ7QUFVQSxTQUFLLE1B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QUFELENBQUQsRUFBUSxDQUFDLEdBQUQsQ0FBUixFQUFlLENBQUMsR0FBRCxDQUFmLENBSmpCO0FBS0Usb0JBQVksRztBQUxkLE9BRmM7O0FBVWQ7QUFDRSxpQkFBUyxHQURYO0FBRUUsdUJBQWUsQ0FBQyxDQUFDLEdBQUQsQ0FBRCxFQUFRLENBQUMsR0FBRCxDQUFSLEVBQWUsQ0FBQyxHQUFELENBQWY7QUFGakIsT0FWYzs7QUFlZDtBQUNFLGlCQUFTLEdBRFg7QUFFRSx1QkFBZSxDQUFDLENBQUMsR0FBRCxDQUFELEVBQVEsQ0FBQyxHQUFELENBQVIsRUFBZSxDQUFDLEdBQUQsQ0FBZixFQUFzQixDQUFDLEdBQUQsQ0FBdEI7QUFGakIsT0FmYyxDQURBOztBQXNCaEIsOEJBQXdCLEdBdEJSOztBQXdCaEIsaUNBQTJCLENBeEJYOztBQTBCaEIsc0NBQWdDLEdBMUJoQjs7O0FBNkJoQiwyQkFBcUIsSUE3Qkw7O0FBK0JoQixxQkFBZSxLQS9CQzs7QUFpQ2hCLGlDQUEyQixPQWpDWDs7QUFtQ2hCLDJCQUFxQjtBQW5DTCxLQUFsQjtBQXFDRDs7OztpQ0FFWSxRLEVBQVU7QUFDckIsYUFBTyxLQUFLLE1BQUwsQ0FBWSxLQUFaLENBQWtCLFFBQWxCLENBQVA7QUFDRDs7Ozs7O2tCQXRNa0IsYSIsImZpbGUiOiJnYW1lLWxvZ2ljL2NvbmZpZy9kZWZhdWx0LWNvbmZpZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGVmYXVsdCBDb25maWd1cmF0aW9uXG4gKlxuICogRXh0ZW5kIHRoZSBjbGFzcyBleHBvcnRlZCBmcm9tIHRoaXMgbW9kdWxlIHRvIGNyZWF0ZSB5b3VyIG93biBsb2NhbFxuICogY29uZmlndXJhdGlvbiBvYmplY3RzIG9yIHVzZSB0aGlzIGRpcmVjdGx5LlxuICogQSBjb25maWd1cmF0aW9uIGZpbGUgaXMgYW55IEVTNiBmaWxlIHRoYXQgZXhwb3J0cyBhIHNpbmdsZSBkZWZhdWx0XG4gKiBvYmplY3QgY29udGFpbmluZyBhbGwgb2YgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqXG4gKiBBdm9pZCByZXF1aXJpbmcgdGhpcyBmaWxlIGludG8gYW55IGZpbGUgdGhhdCBtaWdodCBuZWVkIHRoaXMgb25lLlxuICogSW4gZ2VuZXJhbCBnYW1lIGxvZ2ljIHNob3VsZCBuZXZlciBuZWVkIHRoaXMsIGEgY29uZmlnIG9iamVjdCBzaG91bGRcbiAqIGJlIHBhc3NlZCBhcm91bmQgdGhyb3VnaCBjb25zdHJ1Y3RvcnMuXG4gKlxuICogVHJ5IHRvIGtlZXAgdGhlIHN0cnVjdHVyZSBhcyBmbGF0IGFzIHBvc3NpYmxlIHdoaWxlIGdyb3VwaW5nIHRoaW5ncyBsb2dpY2FsbHlcbiAqL1xuXG5jb25zdCBDT0xPUlMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvY29sb3JzJyk7XG5jb25zdCBHQU1FUyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cy9nYW1lcycpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZWZhdWx0Q29uZmlnIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgICAgdXNlcm5hbWU9XCJcIixcbiAgICAgIHVzZXIwPVwic2N1bHB0dXJlMFwiLFxuICAgICAgdXNlcjE9XCJzY3VscHR1cmUxXCIsXG4gICAgICB1c2VyMj1cInNjdWxwdHVyZTJcIlxuICB9ID0ge30pIHtcbiAgICB0aGlzLnVzZXIwID0gdXNlcjA7XG4gICAgdGhpcy51c2VyMSA9IHVzZXIxO1xuICAgIHRoaXMudXNlcjIgPSB1c2VyMjtcblxuICAgIC8vIFRoZSB1c2VybmFtZSBvZiB0aGUgY3VycmVudCB1c2VyXG4gICAgdGhpcy51c2VybmFtZSA9IHVzZXJuYW1lIHx8IHVzZXIwO1xuXG4gICAgLy8gQSBtYXBwaW5nIGJldHdlZW4gdXNlcm5hbWVzIGFuZCB0aGUgY29sb3JzIHRoYXQgcmVwcmVzZW50IHRoZW1cbiAgICB0aGlzLkNPTE9SUyA9IHtcbiAgICAgIFVTRVJTOiB7XG4gICAgICAgIC8vIHVzZXJuYW1lIDogY29sb3JcbiAgICAgICAgW3RoaXMudXNlcjBdOiBDT0xPUlMuVVNFUjAsXG4gICAgICAgIFt0aGlzLnVzZXIxXTogQ09MT1JTLlVTRVIxLFxuICAgICAgICBbdGhpcy51c2VyMl06IENPTE9SUy5VU0VSMlxuICAgICAgfSxcbiAgICAgIEVSUk9SOiAnZXJyb3InXG4gICAgfTtcblxuICAgIC8vIFRoZSBzZXF1ZW5jZSBvZiB0aGUgZ2FtZXMgdG8gYmUgcnVuLiBUaGUgZmlyc3QgZ2FtZSBpcyBydW4gb24gc3RhcnR1cFxuICAgIHRoaXMuR0FNRVNfU0VRVUVOQ0UgPSBbXG4gICAgICBHQU1FUy5IQU5EU0hBS0UsXG4gICAgICBHQU1FUy5NT0xFLFxuICAgICAgR0FNRVMuRElTSyxcbiAgICAgIEdBTUVTLlNJTU9OXG4gICAgXTtcblxuICAgIC8qKioqKioqIExJR0hUUyAgKioqKioqKioqKioqKioqKioqKiovXG4gICAgdGhpcy5MSUdIVFMgPSB7XG4gICAgICAvLyBOYW1lIDogc3RyaXAgSWQgKGNvcnJlc3BvbmRzIHRvIGhhcmR3YXJlKVxuICAgICAgU1RSSVBfQTogJzAnLFxuICAgICAgU1RSSVBfQjogJzEnLFxuICAgICAgU1RSSVBfQzogJzInLFxuICAgICAgUEVSSU1FVEVSX1NUUklQOiAnMycsXG4gICAgICBESVNLX0xJR0hUX1NUUklQOiAnNCcsXG4gICAgICBIQU5EU0hBS0VfU1RSSVA6ICc1JyxcbiAgICAgIEFSVF9MSUdIVFNfU1RSSVA6ICc2J1xuICAgIH07XG4gICAgdGhpcy5MSUdIVFMuR0FNRV9TVFJJUFMgPSBbXG4gICAgICB0aGlzLkxJR0hUUy5TVFJJUF9BLFxuICAgICAgdGhpcy5MSUdIVFMuU1RSSVBfQixcbiAgICAgIHRoaXMuTElHSFRTLlNUUklQX0NcbiAgICBdO1xuICAgIHRoaXMuUEFORUxTID0ge1xuICAgICAgLy8gc3RyaXBJZCA6IFthbGwgYXNzb2NpYXRlZCBwYW5lbCBJZHNdXG4gICAgICBbdGhpcy5MSUdIVFMuU1RSSVBfQV06IFsnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOSddLFxuICAgICAgW3RoaXMuTElHSFRTLlNUUklQX0JdOiBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknXSxcbiAgICAgIFt0aGlzLkxJR0hUUy5TVFJJUF9DXTogWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5J11cbiAgICB9O1xuXG4gICAgLy8gVGhlc2Ugc2V0dGluZ3MgZWZmZWN0IHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBwYW5lbHMgb3V0c2lkZSBvZlxuICAgIC8vIGFueSBjdXN0b20gbG9naWMgaW4gYW55IG9mIHRoZSBnYW1lc1xuICAgIHRoaXMuUEFORUxfREVGQVVMVFMgPSB7XG4gICAgICBBQ1RJVkVfSU5URU5TSVRZOiAxMDAsXG4gICAgICBJTkFDVElWRV9JTlRFTlNJVFk6IDBcbiAgICB9O1xuXG4gICAgLyoqKioqKiogR0FNRVMgQ09ORklHVVJBVElPTiAqKioqKioqL1xuXG4gICAgdGhpcy5IQU5EU0hBS0VfR0FNRSA9IHtcbiAgICAgIFRSQU5TSVRJT05fT1VUX1RJTUU6IDQwMDAgLy8gVGltZSAobXMpIGZyb20gaGFuZHNoYWtlIGlzIHRvdWNoZWQgdW50aWwgd2Ugc3RhcnQgdGhlIG5leHQgZ2FtZVxuICAgIH07XG4gICAgdGhpcy5NT0xFX0dBTUUgPSB7XG4gICAgICBHQU1FX0VORDogMzAsXG4gICAgICBJTklUSUFMX1BBTkVMUzogW1xuICAgICAgICB7c3RyaXBJZDogdGhpcy5MSUdIVFMuU1RSSVBfQSwgcGFuZWxJZDogJzMnfSxcbiAgICAgICAge3N0cmlwSWQ6IHRoaXMuTElHSFRTLlNUUklQX0EsIHBhbmVsSWQ6ICc3J30sXG4gICAgICAgIHtzdHJpcElkOiB0aGlzLkxJR0hUUy5TVFJJUF9DLCBwYW5lbElkOiAnNid9LFxuICAgICAgICB7c3RyaXBJZDogdGhpcy5MSUdIVFMuU1RSSVBfQiwgcGFuZWxJZDogJzUnfVxuICAgICAgXSxcbiAgICAgIE5VTV9BQ1RJVkVfUEFORUxTOiB7XG4gICAgICAgIDEwOiAxLCAvLyBBdCBwYW5lbENvdW50IG9mIDEwLCBpbmNyZWFzZSAjIG9mIHNpbXVsdGFuZXVzbHkgYWN0aXZlIHBhbmVsc1xuICAgICAgICAyMDogMSxcbiAgICAgICAgMjU6IC0xLCAvLyBBdCBwYW5lbENvdW50IG9mIDI1LCBkZWNyZWFzZSAjIG9mIHNpbXVsdGFuZXVzbHkgYWN0aXZlIHBhbmVsc1xuICAgICAgICAyNzogLTFcbiAgICAgIH0sXG4gICAgICBQQU5FTF9MSUZFVElNRTogW1xuICAgICAgICB7Y291bnQ6IDAsIHJhbmdlOiBbMTAsIDEwXX0sIC8vIEluaXRpYWwgdGltZW91dFxuICAgICAgICB7Y291bnQ6IDQsIHJhbmdlOiBbNCwgNl19LCAvLyBBdCBwYW5lbENvdW50IG9mIDQsIHNldCBwYW5lbCBsaWZldGltZSB0byA0LTYgc2Vjb25kcy4gR3JhZHVhbGx5IGludGVycG9sYXRlIHRvIG5leHQgdGltZW91dCBsZXZlbFxuICAgICAgICB7Y291bnQ6IDIwLCByYW5nZTogWzIsIDNdfSxcbiAgICAgICAge2NvdW50OiAzMCwgcmFuZ2U6IFsxLjUsIDJdfVxuICAgICAgXSxcbiAgICAgIC8vIEhvdyBsb25nIHRvIHdhaXQgYmVmb3JlIGVuYWJsaW5nIHRoZSBuZXh0IHBhbmVsLCBvbiBzdWNjZXNzXG4gICAgICBQQU5FTF9TVUNDRVNTX0RFTEFZOiAxMDAwLFxuICAgICAgLy8gSG93IGxvbmcgdG8gd2FpdCBiZWZvcmUgZW5hYmxpbmcgdGhlIG5leHQgcGFuZWwsIG9uIGF1dG9tYXRpYyBwYW5lbCBtb3ZlXG4gICAgICBQQU5FTF9NT1ZFX0RFTEFZOiAyMDAsXG4gICAgICAvLyBUaGUgaW50ZW5zaXR5IHRvIHVzZSBvbiBhY3RpdmUgcGFuZWxzXG4gICAgICBBQ1RJVkVfUEFORUxfSU5URU5TSVRZOiAxMDAsXG4gICAgICAvLyBUaGUgaW50ZW5zaXR5IHRvIHVzZSBvbiBpbmFjdGl2ZSBwYW5lbHNcbiAgICAgIElOQUNUSVZFX1BBTkVMX0lOVEVOU0lUWTogMCxcbiAgICAgIC8vIFRoZSBpbnRlbnNpdHkgdG8gdXNlIG9uIGlnbm9yZWQgcGFuZWxzIChwYW5lbHMgdHVybmVkIHRvIGxvY2F0aW9uIGNvbG9yKVxuICAgICAgQ09MT1JFRF9QQU5FTF9JTlRFTlNJVFk6IDc1LFxuICAgICAgLy8gV2UgZG9uJ3QgdXNlIGZhaWx1cmUgc291bmRzIGluIHRoZSBkZWZhdWx0IHNldHVwIGR1ZSB0byB0b28gbWFueSBhY2NpZGVudGFsIHRvdWNoZXNcbiAgICAgIEVOQUJMRV9GQUlMVVJFX1NPVU5EOiBmYWxzZVxuICAgIH07XG5cbiAgICB0aGlzLkRJU0tfR0FNRSA9IHtcbiAgICAgIC8vIFRoZSB1c2VyIHdpbGwgd2lucyB3aGVuIHRoZXkgcmVhY2ggdGhlc2UgcG9zaXRpb25zIGZvciBlYWNoIGRpc2tJZC5cbiAgICAgIFJFTEFUSVZFX1RPTEVSQU5DRTogOCwgLy8gZGVncmVlcyB0b2xlcmFuY2UgZm9yIGRpc2tzIHJlbGF0aXZlIHRvIGVhY2ggb3RoZXJcbiAgICAgIEFCU09MVVRFX1RPTEVSQU5DRTogOCwgLy8gZGVncmVlcyB0b2xlcmFuY2UgZm9yIHRoZSBhYnNvbHV0ZSBkaXNrIHBvc2l0aW9uc1xuICAgICAgLy8gVGhlIGludGVuc2l0eSBvZiB0aGUgcGFuZWxzIHRoYXQgdGhlIHVzZXIgY2FuIHVzZSB0byBwbGF5IHRoZSBzZXF1ZW5jZVxuICAgICAgQ09OVFJPTF9QQU5FTF9JTlRFTlNJVFk6IDIwLFxuICAgICAgQUNUSVZFX0NPTlRST0xfUEFORUxfSU5URU5TSVRZOiAxMDAsXG4gICAgICBBQ1RJVkVfUEVSSU1FVEVSX0lOVEVOU0lUWTogMTAwLFxuICAgICAgSU5BQ1RJVkVfUEVSSU1FVEVSX0lOVEVOU0lUWTogNTAsIC8vIEluYWN0aXZlOiB3aGVuIHR1cm5lZCB0byBsb2NhdGlvbiBjb2xvclxuICAgICAgUEVSSU1FVEVSX0NPTE9SOiBcIndoaXRlXCIsXG4gICAgICBTSEFET1dfTElHSFRTOiB7XG4gICAgICAgIC8vIHN0cmlwSWQ6IFtwYW5lbElkLi5dXG4gICAgICAgICc2JzogWycwJywgJzEnLCAnMiddXG4gICAgICB9LFxuICAgICAgU0hBRE9XX0xJR0hUX0lOVEVOU0lUWTogMTAwLFxuICAgICAgTEVWRUxTOiBbXG4gICAgICAgIC8vIGxldmVsIDBcbiAgICAgICAgLy8gZGlza3M6IHsgZGlza0lkOiB0YXJnZXQgcG9zaXRpb24gfVxuICAgICAgICAvLyBwZXJpbWV0ZXI6IHsgc3RyaXBJZDogW3BhbmVsSWRzLi5dIH1cbiAgICAgICAgeyBkaXNrczogICAgIHsgZGlzazI6IDIwNiwgZGlzazE6IDAsIGRpc2swOiAxNzAgfSxcbiAgICAgICAgICBwZXJpbWV0ZXI6IHsgW3RoaXMuTElHSFRTLlBFUklNRVRFUl9TVFJJUF06IFsnMCcsICcyJ10gfVxuICAgICAgICB9LFxuICAgICAgICAvLyBsZXZlbCAxXG4gICAgICAgIHsgZGlza3M6ICAgICB7IGRpc2syOiAxODAsIGRpc2sxOiAzMDUsIGRpc2swOiAzNDYgfSxcbiAgICAgICAgICBwZXJpbWV0ZXI6IHsgW3RoaXMuTElHSFRTLlBFUklNRVRFUl9TVFJJUF06IFsnMycsICc1J10gfVxuICAgICAgICB9LFxuICAgICAgICAvLyBsZXZlbCAyXG4gICAgICAgIHsgZGlza3M6ICAgICB7IGRpc2syOiAzMzAsIGRpc2sxOiAzMzAsIGRpc2swOiAyNDIgfSxcbiAgICAgICAgICBwZXJpbWV0ZXI6IHsgW3RoaXMuTElHSFRTLlBFUklNRVRFUl9TVFJJUF06IFsnMScsICc0J10gfVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgTElHSFRfTUFQUElORzoge1xuICAgICAgICAvLyBkaXNrSWQ6IHsgc3RyaXBJZDogcGFuZWxJZCB9XG4gICAgICAgIGRpc2swOiB7IFt0aGlzLkxJR0hUUy5ESVNLX0xJR0hUX1NUUklQXTogJzAnIH0sXG4gICAgICAgIGRpc2sxOiB7IFt0aGlzLkxJR0hUUy5ESVNLX0xJR0hUX1NUUklQXTogJzEnIH0sXG4gICAgICAgIGRpc2syOiB7IFt0aGlzLkxJR0hUUy5ESVNLX0xJR0hUX1NUUklQXTogJzInIH1cbiAgICAgIH0sXG4gICAgICBDT05UUk9MX01BUFBJTkdTOiB7XG4gICAgICAgIENMT0NLV0lTRV9TVFJJUDogdGhpcy5MSUdIVFMuU1RSSVBfQyxcbiAgICAgICAgQ09VTlRFUkNMT0NLV0lTRV9TVFJJUDogdGhpcy5MSUdIVFMuU1RSSVBfQSxcblxuICAgICAgICBDTE9DS1dJU0VfUEFORUxTOiB7XG4gICAgICAgICAgLy8gZGlza0lkIDogW3BhbmVsSWQxLCAuLi5dXG4gICAgICAgICAgZGlzazA6IFsnMSddLFxuICAgICAgICAgIGRpc2sxOiBbJzMnXSxcbiAgICAgICAgICBkaXNrMjogWyc1J11cbiAgICAgICAgfSxcbiAgICAgICAgQ09VTlRFUkNMT0NLV0lTRV9QQU5FTFM6IHtcbiAgICAgICAgICBkaXNrMDogWycxJ10sXG4gICAgICAgICAgZGlzazE6IFsnMyddLFxuICAgICAgICAgIGRpc2syOiBbJzUnXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuU0lNT05fR0FNRSA9IHtcbiAgICAgIFBBVFRFUk5fTEVWRUxTOiBbXG4gICAgICAgIC8vIGxldmVsIDAgc2VxdWVuY2VcbiAgICAgICAge1xuICAgICAgICAgIHN0cmlwSWQ6IHRoaXMuTElHSFRTLlNUUklQX0EsXG4gICAgICAgICAgLy8gRWFjaCBhcnJheSBvZiBwYW5lbCBJRHMgaXMgbGl0IHVwIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICAvLyBFYWNoIGFycmF5IHdpdGhpbiB0aGlzIGFycmF5IGlzIGNhbGxlZCBhIFwiZnJhbWVcIiBpbiB0aGUgXCJzZXF1ZW5jZVwiXG4gICAgICAgICAgcGFuZWxTZXF1ZW5jZTogW1snMyddLCBbJzUnXSwgWyc3J11dLFxuICAgICAgICAgIGZyYW1lRGVsYXk6IDc1MCAvLyBPdmVycmlkaW5nIGRlZmF1bHQgZnJhbWUgZGVsYXkgdG8gbWFrZSBmaXJzdCBsZXZlbCBzbG93ZXJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gbGV2ZWwgMSBzZXF1ZW5jZVxuICAgICAgICB7XG4gICAgICAgICAgc3RyaXBJZDogJzEnLFxuICAgICAgICAgIHBhbmVsU2VxdWVuY2U6IFtbJzEnXSwgWyc4J10sIFsnNSddXVxuICAgICAgICB9LFxuICAgICAgICAvLyBsZXZlbCAyIHNlcXVlbmNlXG4gICAgICAgIHtcbiAgICAgICAgICBzdHJpcElkOiAnMicsXG4gICAgICAgICAgcGFuZWxTZXF1ZW5jZTogW1snMyddLCBbJzYnXSwgWycyJ10sIFsnOSddXVxuICAgICAgICB9XG4gICAgICBdLFxuICAgICAgLy8gVGhlIGludGVuc2l0eSBvZiB0aGUgcGFuZWxzIHdoZW4gdGhleSBhcmUgcHJlc3NlZCBvciB3aGVuIHRoZSBzZXF1ZW5jZSBpcyBwbGF5aW5nXG4gICAgICBUQVJHRVRfUEFORUxfSU5URU5TSVRZOiAxMDAsXG4gICAgICAvLyBUaGUgaW50ZW5zaXR5IG9mIHRoZSBwYW5lbHMgdGhhdCB0aGUgdXNlciBjYW4gdXNlIHRvIHBsYXkgdGhlIHNlcXVlbmNlXG4gICAgICBBVkFJTEFCTEVfUEFORUxfSU5URU5TSVRZOiAxLFxuICAgICAgLy8gVGhlIGRlbGF5IGluIG1zIGJldHdlZW4gc2VxdWVuY2UgZnJhbWVzXG4gICAgICBTRVFVRU5DRV9BTklNQVRJT05fRlJBTUVfREVMQVk6IDUwMCxcbiAgICAgIC8vIFRoZSBkZWxheSBpbiBtcyB0byB3YWl0IGJlZm9yZSByZXBsYXlpbmcgdGhlIHNlcXVlbmNlXG4gICAgICAvLyBPbmx5IHJlcGxheWVkIGlmIG5vIGlucHV0IGlzIHJlY2VpdmVkIGZyb20gdGhlIHVzZXJcbiAgICAgIERFTEFZX0JFVFdFRU5fUExBWVM6IDUwMDAsXG4gICAgICAvLyBUaGUgdGltZSBhZnRlciBpbnB1dCB0byB3YWl0IGZvciB0aGUgdXNlciB0byBmaW5pc2ggdGhlIHNlcXVlbmNlXG4gICAgICBJTlBVVF9USU1FT1VUOiAxMDAwMCxcbiAgICAgIC8vIFRoZSBkZWZhdWx0IGNvbG9yIHRvIHNldCB0aGUgcGFuZWxzIHRvIHdoZW5cbiAgICAgIERFRkFVTFRfU0lNT05fUEFORUxfQ09MT1I6IFwid2hpdGVcIixcbiAgICAgIC8vIFdhaXQgd2hpbGUgcGxheWluZyBmaW5hbCBzb3VuZFxuICAgICAgVFJBTlNJVElPTl9PVVRfVElNRTogMTAwMDBcbiAgICB9O1xuICB9XG5cbiAgZ2V0VXNlckNvbG9yKHVzZXJuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuQ09MT1JTLlVTRVJTW3VzZXJuYW1lXTtcbiAgfVxufVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
